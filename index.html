<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BYD - Build Your Dreams</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #000108, #152E4D);
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      overflow-x: hidden;
    }

    .nav-glow {
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.5);
      backdrop-filter: blur(10px);
    }

    .fade {
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    .neon-text {
      text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    }

    .active-line {
      background-color: #00ffff;
      box-shadow: 0 0 10px #00ffff;
    }

    .electric-glazed {
      background: linear-gradient(
        90deg,
        rgba(0, 255, 255, 0.1) 0%,
        rgba(0, 255, 255, 0.8) 50%,
        rgba(0, 255, 255, 0.1) 100%
      );
      background-size: 200% auto;
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
      animation: glazeFlow 7s linear infinite;
    }

    /* Animasi glaze menyapu dari kiri ke kanan */
    @keyframes glazeFlow {
      0% {
        background-position: 200% 0;
      }
      100% {
        background-position: -200% 0;
      }
    }

    .innovation-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.1);
      border-radius: 1.5rem;
      padding: 3rem 1.5rem;
      backdrop-filter: blur(10px);
      transform: translateY(60px);
      opacity: 0;
      transition: all 1s ease;
    }

    .innovation-card.show {
      transform: translateY(0);
      opacity: 1;
    }

    .innovation-card:hover {
      transform: translateY(-10px) scale(1.02);
      border-color: rgba(0, 255, 255, 0.3);
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.15);
    }

    /* Icon Wrapper Animation */
    .icon-wrap {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle, rgba(0,255,255,0.15), rgba(0,255,255,0));
      border-radius: 50%;
      width: 100px;
      height: 100px;
      margin: 0 auto;
      transition: transform 0.6s ease;
    }

    .group:hover .icon-wrap {
      transform: rotate(10deg) scale(1.1);
    }

    /* Floating Dots Background */
    .floating-dots::before,
    .floating-dots::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      background: rgba(0,255,255,0.15);
      filter: blur(15px);
      animation: floatDots 12s ease-in-out infinite alternate;
    }
    .floating-dots::before {
      top: 30%;
      left: 10%;
      width: 120px;
      height: 120px;
    }
    .floating-dots::after {
      bottom: 20%;
      right: 15%;
      width: 180px;
      height: 180px;
    }
    @keyframes floatDots {
      0% { transform: translateY(0) scale(1); opacity: 0.8; }
      100% { transform: translateY(-50px) scale(1.2); opacity: 0.5; }
    }

    /* === Background Tunnel === */
    #warpTunnel {
      position: absolute;
      inset: 0;
      display: block;
      z-index: 0;
      background: radial-gradient(circle at center, #000014 0%, #000006 100%);
    }

    #performance > *:not(canvas) {
      position: relative;
      z-index: 5;
    }

    /* === Glaze Text (Reuse from Hero) === */
    .glaze-text {
      background: linear-gradient(90deg, rgba(0,255,255,0.2) 0%, rgba(0,255,255,1) 50%, rgba(0,255,255,0.2) 100%);
      background-size: 200% auto;
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
      animation: glazeFlow 3s linear infinite;
    }
    
    @keyframes glazeFlow {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .text-cyan {
      color: #00e5ff;
    }

    /* === Card Inner Default === */
    .model-card-inner {
      border-radius: 1rem;
      background: #0f0f17;
      padding: 1rem;
      overflow: visible;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      z-index: 10;
    }

    /* === Hover Effect: Scale + Glow === */
    .group:hover .model-card-inner {
      transform: scale(1.05);
      box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    }

.stroke-card rect {
  stroke-width: 2;
  fill: none;
  stroke: url(#grad1);
  stroke-dasharray: 400 400; /* 2 garis panjang: panjang garis & gap */
  stroke-dashoffset: 0;
  opacity: 0; /* default: tidak terlihat */
  filter: drop-shadow(0 0 2px #00ffff);
  transition: opacity 0.3s ease, filter 0.3s ease;
}

.group:hover .stroke-card rect {
  opacity: 1;
  animation: neonLoop 4s linear infinite;
  filter: drop-shadow(0 0 12px #00ffff) drop-shadow(0 0 8px #00ffff);
}

/* Animasi neon bergerak terus */
@keyframes neonLoop {
  0%   { stroke-dashoffset: 0; }
  100% { stroke-dashoffset: 800; } /* dash + gap * 2 */
}

/* Hover effect pada card */
.group:hover .model-card-inner {
  transform: scale(1.05);
  box-shadow: 0 0 25px #00ffff;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

  </style>
</head>
<body class="text-white">

  <!-- Navbar -->
  <nav class="fixed top-6 left-1/2 transform -translate-x-1/2 w-[1200px] bg-black/50 nav-glow flex justify-between items-center px-10 py-3 z-50 rounded-full">
    <div class="flex items-center space-x-2">
      <img src="image/logo.png" alt="BYD Logo" class="h-10 w-auto">
    </div>
    <ul class="flex space-x-10 text-lg">
     <li><a href="index.html" class="hover:text-cyan-300 transition">Home</a></li>
          <li><a href="models.html" class="hover:text-cyan-300 transition">Models</a></li>
          <li><a href="about.html" class="hover:text-cyan-300 transition">About</a></li>
          <li><a href="contact.html" class="hover:text-cyan-300 transition">Contact</a></li>
    </ul>
  </nav>

<!-- Hero Section -->
<section class="relative flex flex-col items-center justify-center h-[900px] text-center overflow-hidden px-10 bg-gradient-to-b from-[#000108] to-[#152E4D]">
  <!-- Title -->
  <h1 class="electric-glazed relative text-5xl md:text-6xl font-bold select-none z-10 tracking-wide uppercase">
    Build Your Dreams
  </h1>

  <!-- Main Wrapper -->
  <div class="flex justify-between items-center w-full max-w-[1200px] mx-auto mt-10 relative">

    <!-- Left: Slide Indicator -->
    <div class="flex flex-col space-y-4 items-center">
      <div id="line-0" class="w-1 h-12 bg-gray-700/60 rounded-full transition-all"></div>
      <div id="line-1" class="w-1 h-12 bg-gray-700/60 rounded-full transition-all"></div>
      <div id="line-2" class="w-1 h-12 bg-gray-700/60 rounded-full transition-all"></div>
      <div id="line-3" class="w-1 h-12 bg-gray-700/60 rounded-full transition-all"></div>
    </div>

    <!-- Center: Car Info -->
    <div id="car-container" class="flex flex-col items-center opacity-100 transform translate-y-0 transition-all duration-700 relative">

      <!-- Background Model Text -->
      <h2 id="car-model-bg" class="absolute text-[100px] md:text-[150px] font-extrabold text-cyan-800/15 select-none tracking-wide leading-none">
        M6
      </h2>

      <!-- Car Image -->
      <div class="relative w-[750px] h-[400px] md:w-[850px] md:h-[450px] flex items-center justify-center">
        <img 
          id="car-image" 
          src="image/byd-m6-2.png" 
          alt="BYD Car" 
          class="max-w-full max-h-full object-contain z-10 transition-all duration-700 drop-shadow-[0_8px_25px_rgba(0,0,0,0.5)]"
        >
      </div>
      
      <!-- Specs -->
      <div class="mt-4 grid grid-cols-3 gap-10 text-center text-gray-200">
        <!-- Range -->
        <div class="flex flex-col items-center group">
          <i data-lucide="battery-charging" class="text-cyan-400/80 w-9 h-9 mb-3 transition-transform duration-300 group-hover:scale-110"></i>
          <p class="text-sm uppercase tracking-wider text-cyan-400/60">Range</p>
          <p id="car-range" class="text-2xl font-semibold text-white mt-1">521 km</p>
        </div>

        <!-- Top Speed -->
        <div class="flex flex-col items-center group">
          <i data-lucide="gauge" class="text-cyan-400/80 w-9 h-9 mb-3 transition-transform duration-300 group-hover:scale-110"></i>
          <p class="text-sm uppercase tracking-wider text-cyan-400/60">Top Speed</p>
          <p id="car-speed" class="text-2xl font-semibold text-white mt-1">185 km/h</p>
        </div>

        <!-- Power -->
        <div class="flex flex-col items-center group">
          <i data-lucide="zap" class="text-cyan-400/80 w-9 h-9 mb-3 transition-transform duration-300 group-hover:scale-110"></i>
          <p class="text-sm uppercase tracking-wider text-cyan-400/60">Power</p>
          <p id="car-power" class="text-2xl font-semibold text-white mt-1">222 kW</p>
        </div>
      </div>    
    </div>
    

    <!-- Right: Controls -->
    <div class="flex flex-col items-center space-y-6">
      <button id="up" class="text-cyan-300 text-3xl hover:text-cyan-400 transition">
        <i data-lucide="chevron-up"></i>
      </button>
      <button id="down" class="text-cyan-300 text-3xl hover:text-cyan-400 transition">
        <i data-lucide="chevron-down"></i>
      </button>
    </div>
  </div>
</section>

<!-- === Interactive Innovation Section === -->
<section id="innovation" class="relative py-28 bg-gradient-to-b from-[#152E4D] to-[#000108] overflow-hidden">
  <div class="max-w-7xl mx-auto px-8 text-center">
    <!-- Title -->
    <h2 class="text-4xl md:text-5xl font-bold text-cyan-300/90 mb-20 glaze-text">
      Innovative Technology
    </h2>

    <!-- Interactive Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
      
      <!-- Card 1 -->
      <div class="innovation-card group">
        <div class="icon-wrap">
          <i data-lucide="cpu" class="w-14 h-14 text-cyan-400/80"></i>
        </div>
        <h3 class="text-2xl font-semibold mt-6 text-white">Smart Intelligence</h3>
        <p class="text-gray-400 mt-2 px-6">
          Experience BYD’s AI-assisted driving ecosystem that adapts to your habits, routes, and driving comfort in real time.
        </p>
      </div>

      <!-- Card 2 -->
      <div class="innovation-card group">
        <div class="icon-wrap">
          <i data-lucide="wind" class="w-14 h-14 text-cyan-400/80"></i>
        </div>
        <h3 class="text-2xl font-semibold mt-6 text-white">Aerodynamic Design</h3>
        <p class="text-gray-400 mt-2 px-6">
          Sculpted with precision — the aerodynamic body shape reduces drag, increasing performance and energy efficiency.
        </p>
      </div>

      <!-- Card 3 -->
      <div class="innovation-card group">
        <div class="icon-wrap">
          <i data-lucide="sparkles" class="w-14 h-14 text-cyan-400/80"></i>
        </div>
        <h3 class="text-2xl font-semibold mt-6 text-white">LightMotion Aesthetics</h3>
        <p class="text-gray-400 mt-2 px-6">
          Seamless light animations synchronize with motion, turning your BYD into a moving piece of art.
        </p>
      </div>
    </div>
  </div>

  <!-- Floating animated dots background -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="floating-dots"></div>
  </div>
</section>

<!-- === Performance Showcase Section === -->
<section id="performance" class="relative h-screen flex flex-col items-center justify-center overflow-hidden text-center text-white">

  <!-- === Warp Speed Animated Background === -->
  <canvas id="warpTunnel"></canvas>

  <!-- === Section Title === -->
  <h2 class="text-4xl md:text-5xl font-bold text-cyan-300/90 mb-6 glaze-text z-10">
    Instant Power. Silent Precision.
  </h2>
  <p class="text-gray-400 max-w-2xl mx-auto mb-20 z-10">
    Experience the next level of electric performance engineered for pure acceleration, stability, and energy mastery.
  </p>

  <!-- === Content (Speedometer + Graph) === -->
  <div class="relative max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-16 px-8">

    <!-- Left: Speedometer -->
    <div class="relative w-72 h-72 flex items-center justify-center">
      <svg viewBox="0 0 200 200" class="w-full h-full">
        <circle cx="100" cy="100" r="90" stroke="rgba(255,255,255,0.1)" stroke-width="8" fill="none" />
        <circle cx="100" cy="100" r="90" stroke="url(#grad)" stroke-width="8" fill="none"
                stroke-linecap="round" stroke-dasharray="565" stroke-dashoffset="565"
                class="speedometer-progress"/>
        <defs>
          <linearGradient id="grad" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="#00ffff"/>
            <stop offset="100%" stop-color="#0088ff"/>
          </linearGradient>
        </defs>
      </svg>
      <div class="absolute inset-0 flex items-center justify-center">
        <div id="speed-value" class="text-5xl font-bold text-cyan-300">0</div>
        <span class="text-gray-500 ml-2">km/h</span>
      </div>
    </div>

    <!-- Right: Animated Graph -->
    <div class="w-full md:w-1/2 text-left">
      <h3 class="text-2xl text-cyan-400 font-semibold mb-6">Power vs Efficiency</h3>
      <div class="relative h-56 w-full bg-black/30 border border-cyan-800/40 rounded-xl overflow-hidden">
        <canvas id="powerChart" class="absolute inset-0 w-full h-full"></canvas>
        <div class="absolute top-2 left-4 text-gray-500 text-sm">Efficiency</div>
        <div class="absolute bottom-2 right-4 text-gray-500 text-sm">Power</div>
      </div>
      <p class="mt-6 text-gray-400 text-sm leading-relaxed">
        BYD’s advanced Blade Battery and dual-motor torque system deliver optimized energy output across every acceleration phase.
      </p>
    </div>
  </div>
</section>

<!-- BYD Models Section -->
<section class="py-40 text-center text-light bg-gradient-to-b from-[#000108] to-[#152E4D]">
  <div class="mx-auto max-w-7xl text-center">
    <h2 class="text-4xl md:text-5xl font-bold text-cyan-300/90 mb-6 glaze-text">Explore BYD Electric Lineup</h2>
    <p class="text-gray-400 max-w-2xl mx-auto mb-20">Innovation meets performance — discover the future of mobility.</p>

    <div class="flex justify-center gap-6 overflow-x-auto px-6 py-4 no-scrollbar">

      <!-- Card 1 -->
      <div class="model-card-tilt w-80 flex-shrink-0 relative group">
        <div class="model-card-inner rounded-2xl relative overflow-visible">
          <img src="image/byd-seal.png" alt="BYD Seal" class="w-full h-40 object-contain">
          <h5 class="text-cyan-400 mt-3 mb-1 font-semibold">BYD Seal</h5>
          <p class="text-gray-400 text-sm">Electric sport sedan with breathtaking acceleration.</p>
          <a href="#" class="btn btn-outline-info w-full mt-3">Learn More</a>

          <!-- Neon Stroke -->
          <svg class="stroke-card absolute inset-0 w-full h-full pointer-events-none">
            <rect x="0" y="0" width="100%" height="100%" rx="16" ry="16"
                  fill="none" stroke="url(#grad1)" stroke-width="2"
                  stroke-dasharray="6 12" stroke-dashoffset="0"/>
            <defs>
              <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#00ffff"/>
                <stop offset="50%" stop-color="#00ff99"/>
                <stop offset="100%" stop-color="#00ffff"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="model-card-tilt w-80 flex-shrink-0 relative group">
        <div class="model-card-inner rounded-2xl relative overflow-visible">
          <img src="image/byd-atto3.png" alt="BYD Atto 3" class="w-full h-40 object-contain">
          <h5 class="text-cyan-400 mt-3 mb-1 font-semibold">BYD Atto 3</h5>
          <p class="text-gray-400 text-sm">Compact SUV blending efficiency, style, and innovation.</p>
          <a href="#" class="btn btn-outline-info w-full mt-3">Learn More</a>

          <svg class="stroke-card absolute inset-0 w-full h-full pointer-events-none">
            <rect x="0" y="0" width="100%" height="100%" rx="16" ry="16"
                  fill="none" stroke="url(#grad2)" stroke-width="2"
                  stroke-dasharray="6 12" stroke-dashoffset="0"/>
            <defs>
              <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#ff00ff"/>
                <stop offset="50%" stop-color="#ff9900"/>
                <stop offset="100%" stop-color="#ff00ff"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="model-card-tilt w-80 flex-shrink-0 relative group">
        <div class="model-card-inner rounded-2xl relative overflow-visible">
          <img src="image/byd-m6.png" alt="BYD M6" class="w-full h-40 object-contain">
          <h5 class="text-cyan-400 mt-3 mb-1 font-semibold">BYD M6</h5>
          <p class="text-gray-400 text-sm">Luxury electric sedan redefining comfort and power.</p>
          <a href="#" class="btn btn-outline-info w-full mt-3">Learn More</a>

          <svg class="stroke-card absolute inset-0 w-full h-full pointer-events-none">
            <rect x="0" y="0" width="100%" height="100%" rx="16" ry="16"
                  fill="none" stroke="url(#grad3)" stroke-width="2"
                  stroke-dasharray="6 12" stroke-dashoffset="0"/>
            <defs>
              <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#00ffff"/>
                <stop offset="50%" stop-color="#ff00ff"/>
                <stop offset="100%" stop-color="#00ffff"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>

    </div>

    <div class="mt-5">
      <a href="models.html" class="btn btn-info px-5 py-3 fw-bold">
        View All Models →
      </a>
    </div>
  </div>
</section>

<!-- Footer Section -->
<footer class="bg-[#0a0a0f] text-gray-300 py-10">
  <div class="container mx-auto px-6">
    <div class="flex flex-col md:flex-row justify-between gap-8">

      <!-- Logo & Description -->
      <div class="flex-1">
        <h2 class="text-cyan-400 text-2xl font-bold mb-3">BYD Motors</h2>
        <p class="text-gray-400 text-sm">
          Pioneering the future of electric mobility with innovation, style, and sustainability.
        </p>
      </div>

      <!-- Quick Links -->
      <div class="flex-1">
        <h3 class="text-white font-semibold mb-3">Quick Links</h3>
        <ul class="space-y-2 text-gray-400">
          <li><a href="#" class="hover:text-cyan-400 transition-colors">Home</a></li>
          <li><a href="#" class="hover:text-cyan-400 transition-colors">Models</a></li>
          <li><a href="#" class="hover:text-cyan-400 transition-colors">About Us</a></li>
          <li><a href="#" class="hover:text-cyan-400 transition-colors">Contact</a></li>
        </ul>
      </div>

      <!-- Contact & Social -->
      <div class="flex-1">
        <h3 class="text-white font-semibold mb-3">Contact</h3>
        <p class="text-gray-400 text-sm mb-3">
          123 Electric Ave, City, Country<br>
          email@example.com<br>
          +123 456 7890
        </p>
        <div class="flex gap-4">
          <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors">
            <i data-lucide="facebook" class="w-5 h-5"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors">
            <i data-lucide="twitter" class="w-5 h-5"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors">
            <i data-lucide="instagram" class="w-5 h-5"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors">
            <i data-lucide="linkedin" class="w-5 h-5"></i>
          </a>
        </div>
      </div>

    </div>

    <!-- Footer Bottom -->
    <div class="mt-10 border-t border-gray-700 pt-6 text-center text-gray-500 text-sm">
      &copy; 2025 BYD Motors. All rights reserved.
    </div>
  </div>
</footer>


  <script>
    lucide.createIcons();
    const cars = [
      {
        name: "BYD M6",
        image: "image/byd-m6-2.png",
        range: "Range: 521 km",
        speed: "Top Speed: 185 km/h",
        power: "Power: 222 kW"
      },
      {
        name: "SEAL",
        image: "image/byd-seal.png",
        range: "Range: 550 km",
        speed: "Top Speed: 200 km/h",
        power: "Power: 230 kW"
      },
      {
        name: "ATTO 3",
        image: "image/byd-atto3.png",
        range: "Range: 480 km",
        speed: "Top Speed: 160 km/h",
        power: "Power: 150 kW"
      },
      {
        name: "DOLPHIN",
        image: "image/byd-dolphin-2.png",
        range: "Range: 420 km",
        speed: "Top Speed: 150 km/h",
        power: "Power: 130 kW"
      }
    ];

    let index = 0;

    const carImage = document.getElementById("car-image");
    const carModelBg = document.getElementById("car-model-bg");
    const carRange = document.getElementById("car-range");
    const carSpeed = document.getElementById("car-speed");
    const carPower = document.getElementById("car-power");
    const container = document.getElementById("car-container");

    const lines = [
      document.getElementById("line-0"),
      document.getElementById("line-1"),
      document.getElementById("line-2"),
      document.getElementById("line-3")
    ];

    function updateActiveLine() {
      lines.forEach((line, i) => {
        if (i === index) {
          line.classList.add("active-line");
        } else {
          line.classList.remove("active-line");
        }
      });
    }

    function updateCar(direction) {
      container.style.opacity = 0;
      container.style.transform = "translateY(30px)";
      
      setTimeout(() => {
        index = (index + direction + cars.length) % cars.length;
        const car = cars[index];
        carImage.src = car.image;
        carModelBg.textContent = car.name;
        carRange.textContent = car.range;
        carSpeed.textContent = car.speed;
        carPower.textContent = car.power;
        updateActiveLine();
        container.style.opacity = 1;
        container.style.transform = "translateY(0)";
      }, 400);
    }

    document.getElementById("up").addEventListener("click", () => updateCar(-1));
    document.getElementById("down").addEventListener("click", () => updateCar(1));

    // Initial active line
    updateActiveLine();

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('show');
      });
    }, { threshold: 0.2 });

    document.querySelectorAll('.innovation-card').forEach(card => {
      observer.observe(card);
    });

     // === Speedometer Animation ===
  let speed = 0;
  const maxSpeed = 220;
  const speedEl = document.getElementById('speed-value');
  const progress = document.querySelector('.speedometer-progress');
  function animateSpeedometer() {
    let current = 0;
    const interval = setInterval(() => {
      current += 4;
      if (current >= speed) clearInterval(interval);
      const offset = 565 - (current / maxSpeed) * 565;
      progress.style.strokeDashoffset = offset;
      speedEl.textContent = current;
    }, 20);
  }

  // Animate on scroll
  const perfSection = document.getElementById('performance');
  const perfObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        speed = 180; // target speed
        animateSpeedometer();
        animateChart();
      }
    });
  }, { threshold: 0.4 });
  perfObserver.observe(perfSection);

  // === Chart Animation (Power vs Efficiency) ===
  function animateChart() {
    const ctx = document.getElementById('powerChart');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Idle', '30%', '60%', '90%', 'Max'],
        datasets: [{
          label: '',
          data: [20, 65, 85, 75, 90],
          borderColor: 'rgba(0,255,255,0.9)',
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 0,
          fill: {
            target: 'origin',
            above: 'rgba(0,255,255,0.1)'
          }
        }]
      },
      options: {
        animation: { duration: 2000 },
        scales: {
          x: { display: false },
          y: { display: false, min: 0, max: 100 }
        },
        plugins: { legend: { display: false } }
      }
    });
  }

  /* === Warp Tunnel 3D Light Streaks === */
  const canvas = document.getElementById("warpTunnel");
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.setClearColor(0x000010, 1);

  // === Garis Cahaya ===
  const streakCount = 700;
  const streakLength = 5;
  const geometry = new THREE.BufferGeometry();
  const positions = [];
  const speeds = [];

  for (let i = 0; i < streakCount; i++) {
    const x = (Math.random() - 0.5) * 200;
    const y = (Math.random() - 0.5) * 200;
    const z = (Math.random() - 0.5) * 600;
    const dir = new THREE.Vector3(-x, -y, -z).normalize().multiplyScalar(streakLength);

    positions.push(x, y, z, x + dir.x, y + dir.y, z + dir.z);
    speeds.push(0.6 + Math.random() * 1.5);
  }

  geometry.setAttribute("position", new THREE.Float32BufferAttribute(positions, 3));
  geometry.computeBoundingSphere();

  const material = new THREE.LineBasicMaterial({
    color: 0x00ffff,
    transparent: true,
    opacity: 0.6,
    blending: THREE.AdditiveBlending,
    linewidth: 1
  });

  const warpLines = new THREE.LineSegments(geometry, material);
  scene.add(warpLines);

  camera.position.z = 100;

  // === Animasi Warp ===
  function animate() {
    const pos = warpLines.geometry.attributes.position.array;
    for (let i = 0; i < pos.length; i += 6) {
      const z1 = pos[i+2];
      const z2 = pos[i+5];

      // Geser ke arah kamera
      pos[i+2] += speeds[i/6] * 2.0; 
      pos[i+5] += speeds[i/6] * 2.0;

      // Jika garis sudah lewat kamera (z > 100), reset jauh di belakang (z = -600)
      if (z2 > 100) {
        const x = (Math.random() - 0.5) * 200;
        const y = (Math.random() - 0.5) * 200;
        const z = -600;
        const dir = new THREE.Vector3(-x, -y, -z).normalize().multiplyScalar(streakLength);
        pos[i] = x; pos[i+1] = y; pos[i+2] = z;
        pos[i+3] = x + dir.x; pos[i+4] = y + dir.y; pos[i+5] = z + dir.z;
      }
    }

    warpLines.geometry.attributes.position.needsUpdate = true;
    renderer.render(scene, camera);
    requestAnimationFrame(animate);
  }


  animate();

</script>

</body>
</html>
